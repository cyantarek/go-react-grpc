{"ast":null,"code":"import { FETCH_TODO, SET_LOADING } from \"./types\";\n\nconst {\n  HelloServiceClient\n} = require(\"../api/hello/hello_service_grpc_web_pb\");\n\nconst {\n  HelloRequest\n} = require(\"../api/hello/hello_service_pb\");\n\nlet helloClient = new HelloServiceClient(\"http://localhost:9090\", null, null);\nexport const setLoading = value => {\n  return dispatch => {\n    dispatch({\n      action: SET_LOADING,\n      payload: value\n    });\n  };\n};\n\nconst {\n  TodoServiceClient\n} = require(\"../api/todo/todo_service_grpc_web_pb\");\n\nconst {\n  TodoRequest,\n  CommonRequest\n} = require(\"../api/todo/todo_service_pb\");\n\nlet todoClient = new TodoServiceClient(\"http://localhost:9090\", null, null);\nexport const fetchTodo = () => {\n  return dispatch => {\n    let req = new CommonRequest();\n    dispatch({\n      type: SET_LOADING,\n      payload: true\n    });\n    todoClient.getAllTodo(req, {}, (err, resp) => {\n      if (resp == null) {\n        console.log(err);\n      } else {\n        dispatch({\n          type: FETCH_TODO,\n          payload: resp.toObject().todoListList\n        });\n        dispatch({\n          type: SET_LOADING,\n          payload: false\n        });\n      }\n    });\n  };\n};\nexport const completeTodo = id => {\n  return dispatch => {\n    let req = new CommonRequest();\n    req.setId(id);\n    dispatch({\n      type: SET_LOADING,\n      payload: true\n    });\n    todoClient.completeTodo(req, {}, (err, resp) => {\n      if (resp == null) {\n        console.log(err);\n      } else {\n        let req = new CommonRequest();\n        todoClient.getAllTodo(req, {}, (err, resp) => {\n          if (resp == null) {\n            console.log(err);\n          } else {\n            dispatch({\n              type: FETCH_TODO,\n              payload: resp.toObject().todoListList\n            });\n            dispatch({\n              type: SET_LOADING,\n              payload: false\n            });\n          }\n        });\n      }\n    });\n  };\n};\nexport const undoTodo = id => {\n  return dispatch => {\n    let req = new CommonRequest();\n    req.setId(id);\n    dispatch({\n      type: SET_LOADING,\n      payload: true\n    });\n    todoClient.undoTodo(req, {}, (err, resp) => {\n      if (resp == null) {\n        console.log(err);\n      } else {\n        let req = new CommonRequest();\n        todoClient.getAllTodo(req, {}, (err, resp) => {\n          if (resp == null) {\n            console.log(err);\n          } else {\n            dispatch({\n              type: FETCH_TODO,\n              payload: resp.toObject().todoListList\n            });\n            dispatch({\n              type: SET_LOADING,\n              payload: false\n            });\n          }\n        });\n      }\n    });\n  };\n};\nexport const createTodo = data => {\n  return dispatch => {\n    let req = new TodoRequest();\n    req.setTask(data.task);\n    dispatch({\n      type: SET_LOADING,\n      payload: true\n    });\n    todoClient.createTodo(req, {}, (err, resp) => {\n      if (resp == null) {\n        console.log(err);\n      } else {\n        let req = new CommonRequest();\n        todoClient.getAllTodo(req, {}, (err, resp) => {\n          if (resp == null) {\n            console.log(err);\n          } else {\n            dispatch({\n              type: FETCH_TODO,\n              payload: resp.toObject().todoListList\n            });\n            dispatch({\n              type: SET_LOADING,\n              payload: false\n            });\n          }\n        });\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/home/cyan/Desktop/projects/go-grpc-react-todo/frontend/src/actions/index.js"],"names":["FETCH_TODO","SET_LOADING","HelloServiceClient","require","HelloRequest","helloClient","setLoading","value","dispatch","action","payload","TodoServiceClient","TodoRequest","CommonRequest","todoClient","fetchTodo","req","type","getAllTodo","err","resp","console","log","toObject","todoListList","completeTodo","id","setId","undoTodo","createTodo","data","setTask","task"],"mappings":"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","sourcesContent":["import {FETCH_TODO, SET_LOADING} from \"./types\";\n\nconst {HelloServiceClient} = require(\"../api/hello/hello_service_grpc_web_pb\");\nconst {HelloRequest} = require(\"../api/hello/hello_service_pb\");\n\nlet helloClient = new HelloServiceClient(\"http://localhost:9090\", null, null);\n\nexport const setLoading = (value) => {\n  return dispatch => {\n      dispatch({action: SET_LOADING, payload: value})\n  }\n};\n\nconst {TodoServiceClient} = require(\"../api/todo/todo_service_grpc_web_pb\");\nconst {TodoRequest, CommonRequest} = require(\"../api/todo/todo_service_pb\");\n\nlet todoClient = new TodoServiceClient(\"http://localhost:9090\", null, null);\n\nexport const fetchTodo = () => {\n    return dispatch => {\n        let req = new CommonRequest();\n\n        dispatch({type: SET_LOADING, payload: true});\n        todoClient.getAllTodo(req, {}, (err, resp) => {\n            if (resp == null) {\n                console.log(err)\n            }else {\n                dispatch({type: FETCH_TODO, payload: resp.toObject().todoListList});\n                dispatch({type: SET_LOADING, payload: false});\n            }\n        })\n    }\n};\n\nexport const completeTodo = (id) => {\n    return dispatch => {\n        let req = new CommonRequest();\n        req.setId(id);\n\n        dispatch({type: SET_LOADING, payload: true});\n        todoClient.completeTodo(req, {}, (err, resp) => {\n            if (resp == null) {\n                console.log(err)\n            }else {\n                let req = new CommonRequest();\n\n                todoClient.getAllTodo(req, {}, (err, resp) => {\n                    if (resp == null) {\n                        console.log(err)\n                    }else {\n                        dispatch({type: FETCH_TODO, payload: resp.toObject().todoListList});\n                        dispatch({type: SET_LOADING, payload: false});\n                    }\n                });\n            }\n        })\n    }\n};\n\nexport const undoTodo = (id) => {\n    return dispatch => {\n        let req = new CommonRequest();\n        req.setId(id);\n\n        dispatch({type: SET_LOADING, payload: true});\n        todoClient.undoTodo(req, {}, (err, resp) => {\n            if (resp == null) {\n                console.log(err)\n            }else {\n                let req = new CommonRequest();\n\n                todoClient.getAllTodo(req, {}, (err, resp) => {\n                    if (resp == null) {\n                        console.log(err)\n                    }else {\n                        dispatch({type: FETCH_TODO, payload: resp.toObject().todoListList});\n                        dispatch({type: SET_LOADING, payload: false});\n                    }\n                });\n            }\n        })\n    }\n};\n\nexport const createTodo = (data) => {\n    return dispatch => {\n        let req = new TodoRequest();\n\n        req.setTask(data.task);\n\n        dispatch({type: SET_LOADING, payload: true});\n\n        todoClient.createTodo(req, {}, (err, resp) => {\n            if (resp == null) {\n                console.log(err)\n            }else {\n                let req = new CommonRequest();\n\n                todoClient.getAllTodo(req, {}, (err, resp) => {\n                    if (resp == null) {\n                        console.log(err)\n                    }else {\n                        dispatch({type: FETCH_TODO, payload: resp.toObject().todoListList});\n                        dispatch({type: SET_LOADING, payload: false});\n                    }\n                });\n            }\n        });\n    }\n};"]},"metadata":{},"sourceType":"module"}